
# Wallet Service

Wallet Service — это RESTful микросервис для управления балансом кошельков. Он позволяет выполнять операции с балансом (пополнение/списание) и проверять текущий баланс кошелька.

## Содержание
- [Как скачать проект](#как-скачать-проект)
- [Как запустить проект](#как-запустить-проект)
- [Настройка окружения](#настройка-окружения)
- [Описание API](#описание-api)
- [Структура проекта](#структура-проекта)
- [Зависимости](#зависимости)
- [Лицензия](#лицензия)

## Как скачать проект
Убедитесь, что у вас установлен Git. Если нет, скачайте и установите его с официального сайта.

Откройте терминал или командную строку и выполните команды:

````bash
git clone https://github.com/your-repository/wallet-service.git
cd wallet-service
````

## Как запустить проект
Проект запускается в Docker-контейнерах. Убедитесь, что у вас установлены Docker и Docker Compose.

Соберите и запустите сервисы:

````bash
docker-compose up --build
````

Эта команда:
- Соберет образ приложения
- Запустит PostgreSQL в контейнере
- Применит миграции Liquibase
- Запустит само приложение

После запуска сервис будет доступен по адресу: [http://localhost:8080](http://localhost:8080)

Для остановки сервисов выполните:

````bash
docker-compose down
````

## Настройка окружения
Перед запуском создайте файл `.env` в корне проекта (пример настроек):

````env
DB_URL=jdbc:postgresql://wallet-db:5432/wallet_db
DB_USER=wallet_user
DB_PASSWORD=wallet_password
````

## Описание API

### Баланс кошелька
**GET** `/api/v1/wallets/{walletId}/balance`

Возвращает текущий баланс кошелька.

Пример ответа:

````json
{
  "balance": 1000.00
}
````

### Операция с кошельком
**POST** `/api/v1/wallets/operations`

Выполняет операцию с кошельком (пополнение/списание).

Пример запроса:

````json
{
  "walletId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
  "operationType": "DEPOSIT",
  "amount": 100.00
}
````

Пример ответа:

````json
{
  "balance": 1100.00
}
````

## Структура проекта
```
org.example.wallet
│── controller       # Контроллеры API
│── dto              # Data Transfer Objects
│── service          # Бизнес-логика
│── repository       # Работа с базой данных
│── config           # Конфигурации приложения
```

## Зависимости
Основные зависимости проекта:
- Spring Boot — фреймворк для создания приложения
- Spring Data JPA — работа с базой данных
- PostgreSQL — СУБД
- Liquibase — управление миграциями базы данных
- Lombok — сокращение boilerplate кода
- Spring Retry — механизм повторных попыток
- Spring Actuator — мониторинг приложения
